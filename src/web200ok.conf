server {
        listen 80;
	listen [::]:80;
        server_name sds-monitor.bgfoo.com;
        location = /favicon.ico { access_log off; log_not_found off; }

    #set_real_ip_from 0.0.0.0/0;
        real_ip_header CF-Connecting-IP;
    #real_ip_recursive on;

        access_log /var/log/nginx/web200ok_access.log web200ok;
        error_log /var/log/nginx/web200ok_error.log;

        client_max_body_size 20m;

        location /static {
                alias /home/magellan/Projects/web200ok/static;
        }

        # location /media {
        #         alias /home/magellan/Projects/web200ok/media;
        # }

        # 내부 경로를 설정하여 직접 접근 불가능하게 함
        location /internal/media/ {
            internal;
            alias /home/magellan/Projects/web200ok/media/;
        }

        location / {
        #allow 165.225.228.251;
        #allow 14.63.100.144;
        #deny all;
                add_header 'Access-Control-Allow-Origin' '*';
                include proxy_params;
                proxy_pass http://unix:/tmp/web200ok.sock;
        }
}
